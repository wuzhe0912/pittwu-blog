---
title: 常見面試問題：網路相關
date: 2019-12-07 00:34:53
tags: Interview
---
網路相關面試題目彙整。
<!--more-->
## 什麼是瀏覽器的同源策略？另外跨域問題，如何解決？
當 ajax 發出請求時，瀏覽器會要求當前網頁與 server，基於安全性必須同源，也就是協議(http、https)、域名(abc.com)、端口(8080)，三者皆必須一致，只要任一者不同，就是不同源，倘若三者相同則為同源(符合同源策略)，同源策略僅限瀏覽器，後端(server)無此限制。當然，如果是 cdn 引入 js 的框架，或是 css 引入圖片網址，可以無視這個規則。
當非同源時，前端發出請求時，需要進行跨域，而任何跨域行為，理當經過 server 端允許，若未經允許即可實現跨域，代表網站本身已存在重大漏洞。解決方案，主要有三種，JSONP 和 CORS 以及代理，JSONP 透過 script 導入目前比較少使用，CORS 則是由後端處理，前端直接使用，代理則需要特定設置(vue => vue.config.js)。
當然，如果是 cdn 引入 js 的框架，或是 css 引入圖片網址，可以無視這個規則。任何跨域行為，都應該經過 server 端允許，若未經允許即可實現跨域，代表網站本身已存在重大漏洞。

## CORS 是什麼，它解決了什麼問題？
前端的一種跨域方式，由 server 端設置(通常是由後端設置在 http header)，前端可以直接使用，也可以只允許特定網址使用。

## Proxy 代理
得通過 nginx server 的設定來達成，以 Vue 為例，在 vue.config.js 進行設定：
```
module.exports = {
  devServer: {
    host: 'localhost',
    port: 8080,
    // 當網址攔截到 /api
    proxy: {
      '/api': {
        // 目標要指向哪個網址
        target: 'https://www.xxx.com',
        changeOrigin: true,
        /*
          實務上，會遇到n個api，每一隻api路徑皆有所差別
          為了統一攔截，因此虛擬化了一個路徑 /api
          但當轉發路徑時，才將這個虛擬化的路徑轉為空
        */
        pathRewrite: {
          'api/': ''
        }
      }
    }
  }
}
```
代理的安全性較高，可以隱藏後端 server 的來源，同時前後端需要設定的東西也較少。

## 描述 cookies/localStorage/sessionStorage 的差別？
cookie 早於後兩者，用於瀏覽器 <=> server 之間的溝通，比較早期的做法會被用來暫時借用本地儲存，但隨著 HTML5 的出現，本地儲存資料已改用後兩者。一般來說使用 localStorage 居多，畢竟使用者下次登入網頁時間未知，所以通常會選擇永久儲存，而 sessionStorage 則是關閉網頁即失效。

## 請簡單解釋 RESTful API
表現層狀態轉移...嗯，這種不是人話的東西，基本上是看不懂的。當然撰寫 RESTful API 是有固定的風格設計，譬如使用名詞而不盡量不使用動詞之類的。但對前端來說，應該可以拆成三部分來理解，查看後端提供的 API 文件：
1. url => 告訴前端你請求的是什麼，全部的產品列表或是單一商品的細節
2. method => 使用哪一種方法，get(獲取)，post(送出增加)，delete(刪除)，put(更改)
3. status code => 拿到的 api 結果為何？成功或失敗，細部原因是什麼


## 簡單說幾個常見的 http 狀態碼？
```
200 => success
400 => 前端送錯 request，後端無法處理
401 => 少 token
403 => 沒有權限
404 => 找不到資源
500 => server 端掛了
502 => server 端某個功能爆了
503 => 維修
504 => api 請求超時
```